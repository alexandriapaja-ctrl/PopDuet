<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>bridgit — Brand Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600&family=Playfair+Display:wght@400;700&family=Libre+Baskerville&family=Raleway:wght@400;500;600&family=Josefin+Sans:wght@400;500;600&family=Cormorant+Garamond:wght@400;600&family=Space+Grotesk:wght@400;500;600&family=Syne:wght@400;600&family=Crimson+Pro:wght@400;600&family=Plus+Jakarta+Sans:wght@400;500;600&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
:root{
  --bg:#F8F7F5;--surface:#FFF;--border:#EBEBEA;--ink:#1A1A18;--sub:#6B6B68;--muted:#A8A8A5;
  --accent:#C1440E;--accent-l:#FDF1EC;--green:#16A34A;--green-l:#F0FDF4;
  --blue:#2563EB;--blue-l:#EFF4FF;--amber:#D97706;--amber-l:#FFFBEB;
}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--ink);font-size:14px;height:100vh;display:flex;overflow:hidden;}

/* ── SIDEBAR ── */
.sidebar{width:220px;flex-shrink:0;background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;height:100vh;z-index:100;position:relative;}
.logo{padding:20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:9px;}
.wordmark{font-family:'Instrument Serif',serif;font-size:1.4rem;color:var(--ink);letter-spacing:-0.02em;}
.wordmark em{color:var(--accent);font-style:normal;}
.badge-brand{font-size:0.6rem;font-weight:700;letter-spacing:0.06em;text-transform:uppercase;background:var(--accent-l);color:var(--accent);padding:2px 7px;border-radius:100px;}
.nav-group{padding:14px 10px 6px;}
.nav-lbl{font-size:0.63rem;font-weight:700;letter-spacing:0.1em;text-transform:uppercase;color:var(--muted);padding:0 8px;margin-bottom:3px;}
.nav-item{display:flex;align-items:center;gap:9px;padding:8px 10px;border-radius:8px;cursor:pointer;color:var(--sub);font-size:0.86rem;user-select:none;transition:background 0.12s,color 0.12s;}
.nav-item:hover{background:var(--bg);color:var(--ink);}
.nav-item.on{background:var(--accent-l);color:var(--accent);font-weight:500;}
.nav-ic{width:16px;height:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.nav-ic svg{width:15px;height:15px;stroke:currentColor;fill:none;stroke-width:1.7;stroke-linecap:round;stroke-linejoin:round;}
.nav-count{margin-left:auto;background:var(--accent);color:#fff;font-size:0.62rem;font-weight:700;padding:1px 6px;border-radius:100px;}
.sidebar-foot{margin-top:auto;padding:14px 10px;border-top:1px solid var(--border);}
.user-row{display:flex;align-items:center;gap:9px;padding:7px 10px;border-radius:8px;cursor:pointer;}
.user-row:hover{background:var(--bg);}
.av{width:29px;height:29px;border-radius:50%;background:var(--accent);color:#fff;display:flex;align-items:center;justify-content:center;font-size:0.72rem;font-weight:700;flex-shrink:0;}
.u-name{font-size:0.78rem;font-weight:500;color:var(--ink);}
.u-role{font-size:0.68rem;color:var(--muted);}

/* ── MAIN ── */
.main{flex:1;display:flex;flex-direction:column;min-width:0;overflow:hidden;}
.topbar{height:54px;flex-shrink:0;background:var(--surface);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 26px;}
.topbar-title{font-size:0.92rem;font-weight:600;}
.icon-btn{width:32px;height:32px;border-radius:7px;border:1px solid var(--border);background:transparent;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--sub);}
.icon-btn:hover{background:var(--bg);color:var(--ink);}
.icon-btn svg{width:15px;height:15px;stroke:currentColor;fill:none;stroke-width:1.7;stroke-linecap:round;stroke-linejoin:round;}

/* ── SCREENS ── */
.screen{display:none;flex:1;overflow-y:auto;padding:26px;}
.screen.on{display:block;}
.screen-builder{display:none;flex:1;overflow:hidden;}
.screen-builder.on{display:flex;}

/* ── BUTTONS ── */
.btn{display:inline-flex;align-items:center;gap:5px;padding:7px 13px;border-radius:8px;font-size:0.79rem;font-family:'DM Sans',sans-serif;font-weight:500;cursor:pointer;border:none;transition:opacity 0.12s,background 0.12s;}
.btn-primary{background:var(--accent);color:#fff;}
.btn-primary:hover{opacity:0.87;}
.btn-ghost{background:transparent;color:var(--sub);border:1px solid var(--border);}
.btn-ghost:hover{background:var(--bg);color:var(--ink);}
.btn-sm{padding:5px 10px;font-size:0.74rem;}

/* ── STATS ── */
.stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:13px;margin-bottom:22px;}
.stat-card{background:var(--surface);border:1px solid var(--border);border-radius:11px;padding:18px;}
.stat-lbl{font-size:0.73rem;color:var(--sub);margin-bottom:7px;}
.stat-val{font-size:1.65rem;font-weight:600;font-family:'Instrument Serif',serif;letter-spacing:-0.02em;}
.stat-delta{font-size:0.7rem;margin-top:3px;}
.up{color:var(--green);}.dn{color:var(--accent);}
.stat-bar{height:3px;background:var(--border);border-radius:10px;margin-top:11px;}
.stat-fill{height:100%;border-radius:10px;}

/* ── TABLE ── */
.sec-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:13px;}
.sec-title{font-size:0.88rem;font-weight:600;}
.sec-sub{font-size:0.75rem;color:var(--sub);margin-top:2px;}
.tcard{background:var(--surface);border:1px solid var(--border);border-radius:11px;overflow:hidden;}
table{width:100%;border-collapse:collapse;}
th{text-align:left;font-size:0.68rem;font-weight:600;letter-spacing:0.06em;text-transform:uppercase;color:var(--muted);padding:10px 15px;background:var(--bg);border-bottom:1px solid var(--border);}
td{padding:12px 15px;border-bottom:1px solid var(--border);font-size:0.8rem;vertical-align:middle;}
tr:last-child td{border-bottom:none;}
tr:hover td{background:#FAFAF9;}
.pill{display:inline-flex;align-items:center;gap:4px;font-size:0.68rem;font-weight:600;padding:3px 8px;border-radius:100px;}
.pill::before{content:'';width:5px;height:5px;border-radius:50%;}
.pill-on{background:var(--green-l);color:var(--green);}.pill-on::before{background:var(--green);}
.pill-pend{background:var(--amber-l);color:var(--amber);}.pill-pend::before{background:var(--amber);}
.pill-draft{background:var(--bg);color:var(--sub);}.pill-draft::before{background:var(--muted);}
.pill-pause{background:var(--blue-l);color:var(--blue);}.pill-pause::before{background:var(--blue);}
.pill-no{background:#FEF2F2;color:#DC2626;}.pill-no::before{background:#DC2626;}

/* ── CHART ── */
.chart-box{background:var(--surface);border:1px solid var(--border);border-radius:11px;padding:18px;margin-bottom:20px;}
.chart-head{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:18px;}
.bars{display:flex;align-items:flex-end;gap:5px;height:110px;}
.bar-col{display:flex;flex-direction:column;align-items:center;gap:3px;flex:1;}
.bar-wrap{flex:1;display:flex;align-items:flex-end;width:100%;gap:2px;}
.bar{width:100%;border-radius:3px 3px 0 0;min-height:3px;}
.bar-i{background:var(--accent);}.bar-c{background:var(--blue);opacity:0.65;}
.bar-day{font-size:0.6rem;color:var(--muted);}
.legend{display:flex;gap:12px;margin-top:10px;}
.leg-item{display:flex;align-items:center;gap:4px;font-size:0.7rem;color:var(--sub);}
.leg-dot{width:7px;height:7px;border-radius:2px;}

/* ── FORMS ── */
.frow{margin-bottom:13px;}.frow:last-child{margin-bottom:0;}
label{display:block;font-size:0.73rem;font-weight:500;color:var(--sub);margin-bottom:4px;}
input[type=text],input[type=url],input[type=number],textarea,select{width:100%;padding:8px 11px;border:1px solid var(--border);border-radius:7px;font-family:'DM Sans',sans-serif;font-size:0.8rem;color:var(--ink);background:var(--surface);outline:none;-webkit-appearance:none;}
input:focus,textarea:focus,select:focus{border-color:var(--accent);}
textarea{resize:vertical;min-height:68px;}
.row2{display:grid;grid-template-columns:1fr 1fr;gap:10px;}

/* ── CREATORS ── */
.creator-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:13px;}
.c-card{background:var(--surface);border:1px solid var(--border);border-radius:11px;padding:16px;transition:border-color 0.15s,box-shadow 0.15s;}
.c-card:hover{border-color:var(--accent);box-shadow:0 3px 16px rgba(193,68,14,0.08);}
.c-head{display:flex;align-items:flex-start;gap:10px;margin-bottom:12px;}
.c-av{border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:0.82rem;font-weight:700;color:#fff;}
.c-name{font-size:0.83rem;font-weight:600;}.c-handle{font-size:0.7rem;color:var(--muted);margin-top:1px;}
.c-niche{margin-top:5px;display:inline-block;font-size:0.63rem;font-weight:600;padding:2px 7px;border-radius:100px;background:var(--bg);color:var(--sub);}
.c-stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:6px;margin-bottom:12px;text-align:center;}
.cs-val{font-size:0.82rem;font-weight:600;}.cs-lbl{font-size:0.62rem;color:var(--muted);}
.c-bio{font-size:0.73rem;color:var(--sub);line-height:1.5;margin-bottom:12px;}

/* ── SEARCH / FILTER ── */
.search-bar{display:flex;gap:9px;margin-bottom:15px;}
.search-inp{position:relative;flex:1;}
.search-inp input{padding-left:34px;}
.si{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:var(--muted);display:flex;}
.si svg{width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:1.7;stroke-linecap:round;stroke-linejoin:round;}
.f-pills{display:flex;gap:5px;flex-wrap:wrap;margin-bottom:15px;}
.fp{padding:4px 11px;border-radius:100px;border:1px solid var(--border);font-size:0.7rem;font-weight:500;color:var(--sub);cursor:pointer;background:var(--surface);}
.fp:hover,.fp.on{border-color:var(--accent);color:var(--accent);background:var(--accent-l);}

/* ── SETTINGS ── */
.set-layout{display:grid;grid-template-columns:190px 1fr;gap:18px;}
.set-nav{display:flex;flex-direction:column;gap:2px;}
.sn-item{padding:7px 11px;border-radius:7px;cursor:pointer;font-size:0.8rem;color:var(--sub);}
.sn-item:hover{background:var(--bg);color:var(--ink);}
.sn-item.on{background:var(--accent-l);color:var(--accent);font-weight:500;}
.set-form{background:var(--surface);border:1px solid var(--border);border-radius:11px;padding:22px;}
.sf-title{font-size:0.83rem;font-weight:600;margin-bottom:16px;padding-bottom:11px;border-bottom:1px solid var(--border);}

/* ══ POPUP BUILDER ══ */
.b-left{width:280px;flex-shrink:0;background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;overflow:hidden;}
.b-mid{flex:1;background:#E4E2DE;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;overflow:hidden;}
.b-right{width:260px;flex-shrink:0;background:var(--surface);border-left:1px solid var(--border);overflow-y:auto;}
.b-bar{display:flex;align-items:center;justify-content:space-between;padding:11px 14px;border-bottom:1px solid var(--border);flex-shrink:0;}
.b-bar-name{font-size:0.8rem;font-weight:600;color:var(--ink);}
.b-tabs{display:flex;border-bottom:1px solid var(--border);flex-shrink:0;}
.b-tab{flex:1;padding:9px 4px;text-align:center;font-size:0.67rem;font-weight:500;color:var(--muted);cursor:pointer;border-bottom:2px solid transparent;user-select:none;}
.b-tab:hover{color:var(--ink);}
.b-tab.on{color:var(--accent);border-bottom-color:var(--accent);}
.b-tab .tn{display:block;font-size:0.57rem;font-weight:700;margin-bottom:1px;}
.b-tab.on .tn{color:var(--accent);}
.b-panels{flex:1;overflow-y:auto;}
.b-panel{display:none;padding:14px;}
.b-panel.on{display:block;}
.b-stitle{font-size:0.65rem;font-weight:700;letter-spacing:0.08em;text-transform:uppercase;color:var(--muted);margin:14px 0 8px;}
.b-stitle:first-child{margin-top:0;}

/* Type grid - icon cards, no emoji */
.tgrid{display:grid;grid-template-columns:1fr 1fr;gap:6px;}
.tcard{border:1.5px solid var(--border);border-radius:8px;padding:10px 8px;cursor:pointer;text-align:center;transition:all 0.12s;}
.tcard:hover{border-color:var(--accent);background:var(--accent-l);}
.tcard.on{border-color:var(--accent);background:var(--accent-l);}
.t-icon{width:30px;height:30px;border-radius:7px;background:var(--bg);display:flex;align-items:center;justify-content:center;margin:0 auto 6px;}
.tcard.on .t-icon{background:rgba(193,68,14,0.12);}
.t-icon svg{width:14px;height:14px;stroke:var(--sub);fill:none;stroke-width:1.6;stroke-linecap:round;stroke-linejoin:round;}
.tcard.on .t-icon svg{stroke:var(--accent);}
.t-name{font-size:0.68rem;font-weight:600;color:var(--ink);}
.t-sub{font-size:0.6rem;color:var(--muted);margin-top:1px;}

/* Pill selectors */
.pill-sel{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:11px;}
.ps{padding:4px 9px;border:1px solid var(--border);border-radius:100px;font-size:0.7rem;cursor:pointer;color:var(--sub);transition:all 0.12s;}
.ps:hover{border-color:var(--accent);color:var(--accent);}
.ps.on{border-color:var(--accent);background:var(--accent-l);color:var(--accent);font-weight:500;}

/* Position grid */
.pgrid{display:grid;grid-template-columns:repeat(3,1fr);gap:5px;margin-bottom:11px;}
.popt{border:1.5px solid var(--border);border-radius:7px;padding:8px 3px;cursor:pointer;text-align:center;transition:all 0.12s;}
.popt:hover{border-color:var(--accent);}
.popt.on{border-color:var(--accent);background:var(--accent-l);}
.p-ic{display:flex;align-items:center;justify-content:center;height:18px;}
.p-ic svg{width:13px;height:13px;stroke:var(--sub);fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round;}
.popt.on .p-ic svg{stroke:var(--accent);}
.p-lb{font-size:0.58rem;color:var(--sub);margin-top:2px;}
.popt.on .p-lb{color:var(--accent);}

/* Color picker */
.crow{display:flex;align-items:center;gap:7px;margin-bottom:9px;}
.csw{width:26px;height:26px;border-radius:5px;border:1px solid var(--border);position:relative;overflow:hidden;flex-shrink:0;cursor:pointer;}
.csw input{position:absolute;inset:-6px;width:calc(100% + 12px);height:calc(100% + 12px);opacity:0;cursor:pointer;}
.cl{font-size:0.71rem;flex:1;color:var(--ink);}
.chx{font-size:0.68rem;font-family:monospace;color:var(--muted);width:66px;padding:3px 6px;border:1px solid var(--border);border-radius:5px;}

/* Color swatch palette */
.swatch-row{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:10px;}
.sdot{width:20px;height:20px;border-radius:4px;cursor:pointer;border:2px solid transparent;transition:transform 0.1s,border-color 0.1s;flex-shrink:0;position:relative;}
.sdot:hover{transform:scale(1.18);}
.sdot.on{border-color:var(--ink);}
.sdot.light{border-color:#ddd;}
.sdot.light.on{border-color:var(--ink);}

/* Font pills - tall with preview */
.font-pills{display:flex;flex-direction:column;gap:5px;margin-bottom:11px;}
.fpill{padding:8px 10px;border:1px solid var(--border);border-radius:7px;cursor:pointer;transition:all 0.12s;display:flex;align-items:baseline;justify-content:space-between;gap:8px;}
.fpill:hover{border-color:var(--accent);}
.fpill.on{border-color:var(--accent);background:var(--accent-l);}
.fp-name{font-size:0.67rem;color:var(--sub);font-weight:600;white-space:nowrap;}
.fpill.on .fp-name{color:var(--accent);}
.fp-sample{font-size:0.92rem;color:var(--ink);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}

/* Slider */
.sl-row{display:flex;align-items:center;gap:9px;margin-bottom:11px;}
.sl-row input[type=range]{flex:1;accent-color:var(--accent);}
.sl-val{font-size:0.68rem;color:var(--sub);min-width:34px;text-align:right;}

/* Toggle */
.tog-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:9px;}
.tog-lb{font-size:0.75rem;color:var(--ink);}
.tog-sub{font-size:0.65rem;color:var(--muted);}
.tog{width:32px;height:18px;background:var(--border);border-radius:100px;position:relative;cursor:pointer;flex-shrink:0;transition:background 0.15s;}
.tog.on{background:var(--accent);}
.tog::after{content:'';width:12px;height:12px;background:#fff;border-radius:50%;position:absolute;top:3px;left:3px;transition:left 0.15s;}
.tog.on::after{left:17px;}

/* Trigger opts */
.t-opt{border:1px solid var(--border);border-radius:7px;padding:8px 10px;cursor:pointer;margin-bottom:6px;transition:all 0.12s;}
.t-opt:hover{border-color:var(--accent);}
.t-opt.on{border-color:var(--accent);background:var(--accent-l);}
.t-lb{font-size:0.75rem;font-weight:500;color:var(--ink);}
.t-sb{font-size:0.66rem;color:var(--muted);margin-top:2px;}

/* Canvas */
.cv-lbl{position:absolute;top:12px;left:14px;font-size:0.67rem;color:rgba(0,0,0,0.4);font-weight:500;display:flex;align-items:center;gap:5px;}
.cv-pos{background:rgba(0,0,0,0.18);color:#fff;padding:2px 8px;border-radius:100px;font-size:0.58rem;}
.cv-area{display:flex;align-items:center;justify-content:center;width:100%;height:100%;padding:36px;}
#live-popup{position:relative;overflow:hidden;transition:all 0.25s;width:300px;max-width:100%;}

/* Right panel */
.rp-sec{padding:13px 14px;border-bottom:1px solid var(--border);}
.rp-title{font-size:0.65rem;font-weight:700;letter-spacing:0.08em;text-transform:uppercase;color:var(--muted);margin-bottom:9px;}
.layer-row{display:flex;align-items:center;gap:7px;padding:6px 8px;border:1px solid var(--border);border-radius:6px;cursor:pointer;margin-bottom:5px;transition:all 0.12s;}
.layer-row.on{border-color:var(--accent);background:var(--accent-l);}
.layer-name{font-size:0.73rem;font-weight:500;flex:1;}
.layer-row.on .layer-name{color:var(--accent);}
.preset-grid{display:grid;grid-template-columns:1fr 1fr;gap:6px;}
.pc{border:1px solid var(--border);border-radius:7px;padding:8px;cursor:pointer;text-align:center;transition:border-color 0.12s;}
.pc:hover{border-color:var(--accent);}
.pc-sw{width:100%;height:28px;border-radius:4px;margin-bottom:4px;}
.pc-name{font-size:0.63rem;color:var(--sub);}

/* TOAST */
.toast{position:fixed;bottom:22px;right:22px;z-index:9999;background:var(--ink);color:#fff;padding:10px 15px;border-radius:8px;font-size:0.8rem;font-weight:500;box-shadow:0 6px 24px rgba(0,0,0,0.2);transform:translateY(60px);opacity:0;transition:all 0.3s cubic-bezier(.34,1.56,.64,1);pointer-events:none;}
.toast.on{transform:translateY(0);opacity:1;}

/* MODAL */
.modal-bg{position:fixed;inset:0;background:rgba(0,0,0,0.38);display:flex;align-items:center;justify-content:center;z-index:800;opacity:0;pointer-events:none;transition:opacity 0.18s;}
.modal-bg.on{opacity:1;pointer-events:all;}
.modal{background:var(--surface);border-radius:13px;padding:24px;width:420px;box-shadow:0 18px 50px rgba(0,0,0,0.14);transform:scale(0.95);transition:transform 0.18s;}
.modal-bg.on .modal{transform:scale(1);}
.modal-title{font-size:0.95rem;font-weight:600;margin-bottom:4px;}
.modal-sub{font-size:0.78rem;color:var(--sub);margin-bottom:16px;}
.modal-foot{display:flex;gap:7px;justify-content:flex-end;margin-top:16px;}

::-webkit-scrollbar{width:4px;}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:10px;}
</style>
</head>
<body>

<!-- SIDEBAR -->
<aside class="sidebar">
  <div class="logo">
    <div class="wordmark">bridg<em>it</em></div>
    <div class="badge-brand">Brand</div>
  </div>
  <div class="nav-group">
    <div class="nav-lbl">Overview</div>
    <div class="nav-item on" data-nav="stats">
      <span class="nav-ic"><svg viewBox="0 0 24 24"><rect x="3" y="12" width="4" height="9"/><rect x="10" y="7" width="4" height="14"/><rect x="17" y="3" width="4" height="18"/></svg></span>Dashboard
    </div>
  </div>
  <div class="nav-group">
    <div class="nav-lbl">Popups</div>
    <div class="nav-item" data-nav="popups">
      <span class="nav-ic"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/></svg></span>My Popups
    </div>
    <div class="nav-item" data-nav="builder">
      <span class="nav-ic"><svg viewBox="0 0 24 24"><path d="M12 5v14M5 12h14"/></svg></span>New Popup
    </div>
  </div>
  <div class="nav-group">
    <div class="nav-lbl">Creators</div>
    <div class="nav-item" data-nav="discover">
      <span class="nav-ic"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg></span>Discover
    </div>
    <div class="nav-item" data-nav="partnerships">
      <span class="nav-ic"><svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/></svg></span>Partnerships<span class="nav-count">3</span>
    </div>
  </div>
  <div class="nav-group">
    <div class="nav-lbl">Account</div>
    <div class="nav-item" data-nav="settings">
      <span class="nav-ic"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg></span>Settings
    </div>
  </div>
  <div class="sidebar-foot">
    <div class="user-row">
      <div class="av">AC</div>
      <div><div class="u-name">Acme Co.</div><div class="u-role">Brand Account</div></div>
    </div>
  </div>
</aside>

<!-- MAIN -->
<div class="main">
  <div class="topbar">
    <span class="topbar-title" id="page-title">Dashboard</span>
    <div style="display:flex;gap:8px;align-items:center">
      <button class="icon-btn"><svg viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg></button>
      <button class="btn btn-primary btn-sm" onclick="nav('builder')">+ New Popup</button>
    </div>
  </div>

  <!-- DASHBOARD -->
  <div class="screen on" id="s-stats">
    <div class="stats-row">
      <div class="stat-card"><div class="stat-lbl">Impressions</div><div class="stat-val">24,810</div><div class="stat-delta up">↑ 12% this week</div><div class="stat-bar"><div class="stat-fill" style="width:68%;background:var(--accent)"></div></div></div>
      <div class="stat-card"><div class="stat-lbl">Clicks</div><div class="stat-val">1,932</div><div class="stat-delta up">↑ 8% this week</div><div class="stat-bar"><div class="stat-fill" style="width:42%;background:var(--blue)"></div></div></div>
      <div class="stat-card"><div class="stat-lbl">Click Rate</div><div class="stat-val">7.8%</div><div class="stat-delta dn">↓ 0.3% vs last week</div><div class="stat-bar"><div class="stat-fill" style="width:78%;background:var(--green)"></div></div></div>
      <div class="stat-card"><div class="stat-lbl">Spend</div><div class="stat-val">$841</div><div class="stat-delta up">↑ $124 this week</div><div class="stat-bar"><div class="stat-fill" style="width:55%;background:var(--amber)"></div></div></div>
    </div>
    <div class="chart-box">
      <div class="chart-head"><div><div class="sec-title">Performance This Week</div><div style="font-size:0.73rem;color:var(--muted);margin-top:2px">Impressions vs Clicks — last 7 days</div></div><button class="btn btn-ghost btn-sm">Export</button></div>
      <div class="bars" id="chart"></div>
      <div class="legend"><div class="leg-item"><div class="leg-dot" style="background:var(--accent)"></div>Impressions</div><div class="leg-item"><div class="leg-dot" style="background:var(--blue)"></div>Clicks</div></div>
    </div>
    <div class="sec-head"><div><div class="sec-title">Active Popups</div><div class="sec-sub">Currently running</div></div><button class="btn btn-ghost btn-sm" onclick="nav('popups')">View all</button></div>
    <div class="tcard"><table><thead><tr><th>Popup</th><th>Status</th><th>Creators</th><th>Impressions</th><th>CTR</th><th>Spend</th></tr></thead><tbody>
      <tr><td><strong>Summer Sale</strong><br><small style="color:var(--muted)">12 Jun 2026</small></td><td><span class="pill pill-on">Active</span></td><td>4</td><td>14,200</td><td>7.8%</td><td>$492</td></tr>
      <tr><td><strong>New Arrivals</strong><br><small style="color:var(--muted)">1 Aug 2026</small></td><td><span class="pill pill-on">Active</span></td><td>2</td><td>8,410</td><td>7.8%</td><td>$291</td></tr>
      <tr><td><strong>Loyalty Offer</strong><br><small style="color:var(--muted)">28 Jul 2026</small></td><td><span class="pill pill-pause">Paused</span></td><td>1</td><td>2,200</td><td>7.9%</td><td>$58</td></tr>
    </tbody></table></div>
  </div>

  <!-- MY POPUPS -->
  <div class="screen" id="s-popups">
    <div class="sec-head"><div><div class="sec-title">My Popups</div><div class="sec-sub">All your popups in one place</div></div><button class="btn btn-primary" onclick="nav('builder')">+ New Popup</button></div>
    <div class="tcard"><table><thead><tr><th>Popup</th><th>Status</th><th>Trigger</th><th>Creators</th><th>Impressions</th><th>CTR</th><th>Spend</th><th></th></tr></thead><tbody>
      <tr><td><strong>Summer Sale</strong><br><small style="color:var(--muted)">12 Jun 2026</small></td><td><span class="pill pill-on">Active</span></td><td style="color:var(--sub)">After 5s</td><td>4</td><td>14,200</td><td>7.8%</td><td>$492</td><td><button class="btn btn-ghost btn-sm" onclick="toast('Popup paused')">Pause</button></td></tr>
      <tr><td><strong>New Arrivals</strong><br><small style="color:var(--muted)">1 Aug 2026</small></td><td><span class="pill pill-on">Active</span></td><td style="color:var(--sub)">Exit intent</td><td>2</td><td>8,410</td><td>7.8%</td><td>$291</td><td><button class="btn btn-ghost btn-sm" onclick="toast('Popup paused')">Pause</button></td></tr>
      <tr><td><strong>Loyalty Offer</strong><br><small style="color:var(--muted)">28 Jul 2026</small></td><td><span class="pill pill-pause">Paused</span></td><td style="color:var(--sub)">50% scroll</td><td>1</td><td>2,200</td><td>7.9%</td><td>$58</td><td><button class="btn btn-ghost btn-sm" onclick="toast('Popup resumed')">Resume</button></td></tr>
      <tr><td><strong>Flash Weekend</strong><br><small style="color:var(--muted)">5 Aug 2026</small></td><td><span class="pill pill-draft">Draft</span></td><td style="color:var(--sub)">—</td><td>0</td><td>—</td><td>—</td><td>—</td><td><button class="btn btn-primary btn-sm" onclick="nav('builder')">Edit</button></td></tr>
    </tbody></table></div>
  </div>

  <!-- POPUP BUILDER -->
  <div class="screen-builder" id="s-builder">
    <div class="b-left">
      <div class="b-bar">
        <span class="b-bar-name" id="b-title">Untitled Popup</span>
        <div style="display:flex;gap:6px">
          <button class="btn btn-ghost btn-sm" onclick="nav('popups')">← Back</button>
          <button class="btn btn-primary btn-sm" onclick="savePopup()">Save</button>
        </div>
      </div>
      <div class="b-tabs">
        <div class="b-tab on" data-step="0"><span class="tn">01</span>Type</div>
        <div class="b-tab" data-step="1"><span class="tn">02</span>Content</div>
        <div class="b-tab" data-step="2"><span class="tn">03</span>Design</div>
        <div class="b-tab" data-step="3"><span class="tn">04</span>Trigger</div>
      </div>
      <div class="b-panels">

        <!-- STEP 0: Type -->
        <div class="b-panel on" id="bp-0">
          <div class="b-stitle">Popup Type</div>
          <div class="tgrid">
            <div class="tcard on" data-type="standard">
              <div class="t-icon"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/></svg></div>
              <div class="t-name">Standard</div><div class="t-sub">Image + text</div>
            </div>
            <div class="tcard" data-type="text-only">
              <div class="t-icon"><svg viewBox="0 0 24 24"><path d="M17 10H3M21 6H3M21 14H3M17 18H3"/></svg></div>
              <div class="t-name">Text Only</div><div class="t-sub">No image</div>
            </div>
            <div class="tcard" data-type="image-only">
              <div class="t-icon"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="m21 15-5-5L5 21"/></svg></div>
              <div class="t-name">Image Only</div><div class="t-sub">Full image</div>
            </div>
            <div class="tcard" data-type="email">
              <div class="t-icon"><svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><path d="m22 6-10 7L2 6"/></svg></div>
              <div class="t-name">Email Capture</div><div class="t-sub">Collect emails</div>
            </div>
            <div class="tcard" data-type="discount">
              <div class="t-icon"><svg viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><circle cx="7" cy="7" r="1.5"/></svg></div>
              <div class="t-name">Discount Code</div><div class="t-sub">Show coupon</div>
            </div>
            <div class="tcard" data-type="countdown">
              <div class="t-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="9"/><path d="M12 7v5l3 3"/></svg></div>
              <div class="t-name">Countdown</div><div class="t-sub">Urgency timer</div>
            </div>
            <div class="tcard" data-type="two-button">
              <div class="t-icon"><svg viewBox="0 0 24 24"><rect x="2" y="9" width="9" height="6" rx="1"/><rect x="13" y="9" width="9" height="6" rx="1"/></svg></div>
              <div class="t-name">Two Buttons</div><div class="t-sub">Accept / decline</div>
            </div>
            <div class="tcard" data-type="multi-step">
              <div class="t-icon"><svg viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/></svg></div>
              <div class="t-name">Multi-Step</div><div class="t-sub">Multiple screens</div>
            </div>
          </div>
          <div class="b-stitle">Size</div>
          <div class="pill-sel">
            <div class="ps" data-sz="sm">Small</div>
            <div class="ps on" data-sz="md">Medium</div>
            <div class="ps" data-sz="lg">Large</div>
          </div>
          <div class="b-stitle">Position on Screen</div>
          <div class="pgrid">
            <div class="popt" data-pos="top-left"><div class="p-ic"><svg viewBox="0 0 24 24"><polyline points="15 3 9 3 9 9"/><polyline points="3 9 3 15"/><path d="M9 3 3 9"/></svg></div><div class="p-lb">Top left</div></div>
            <div class="popt" data-pos="top-center"><div class="p-ic"><svg viewBox="0 0 24 24"><line x1="12" y1="20" x2="12" y2="4"/><polyline points="6 10 12 4 18 10"/></svg></div><div class="p-lb">Top center</div></div>
            <div class="popt" data-pos="top-right"><div class="p-ic"><svg viewBox="0 0 24 24"><polyline points="9 3 15 3 15 9"/><polyline points="21 9 21 15"/><path d="M15 3l6 6"/></svg></div><div class="p-lb">Top right</div></div>
            <div class="popt" data-pos="center"><div class="p-ic"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><line x1="12" y1="2" x2="12" y2="6"/><line x1="12" y1="18" x2="12" y2="22"/><line x1="2" y1="12" x2="6" y2="12"/><line x1="18" y1="12" x2="22" y2="12"/></svg></div><div class="p-lb">Center</div></div>
            <div class="popt on" data-pos="bottom-bar"><div class="p-ic"><svg viewBox="0 0 24 24"><line x1="3" y1="20" x2="21" y2="20"/><rect x="3" y="14" width="18" height="4" rx="1"/></svg></div><div class="p-lb">Bottom bar</div></div>
            <div class="popt" data-pos="bottom-right"><div class="p-ic"><svg viewBox="0 0 24 24"><polyline points="15 21 21 21 21 15"/><polyline points="3 15 3 21"/><path d="M21 21l-6-6"/></svg></div><div class="p-lb">Bottom right</div></div>
          </div>
        </div>

        <!-- STEP 1: Content -->
        <div class="b-panel" id="bp-1">
          <div class="b-stitle">Popup Name</div>
          <div class="frow"><input type="text" id="b-name" placeholder="e.g. Summer Sale Popup" oninput="document.getElementById('b-title').textContent=this.value||'Untitled Popup'"/></div>
          <div class="b-stitle">Headline</div>
          <div class="frow"><input type="text" id="b-hl" placeholder="20% off today only" oninput="rp()" maxlength="60"/><div style="text-align:right;font-size:0.68rem;color:var(--muted);margin-top:2px" id="hlc">0/60</div></div>
          <div class="b-stitle">Body Text</div>
          <div class="frow"><textarea id="b-bd" rows="3" placeholder="Short supporting message..." oninput="rp()"></textarea></div>
          <div class="b-stitle">CTA Button</div>
          <div class="frow"><input type="text" id="b-cta" placeholder="Shop Now" oninput="rp()"/></div>
          <div class="frow"><input type="url" id="b-url" placeholder="https://destination.com"/></div>
          <div class="b-stitle">Secondary Button <span style="text-transform:none;letter-spacing:0;font-weight:400">(optional)</span></div>
          <div class="frow"><input type="text" id="b-sec" placeholder="No thanks" oninput="rp()"/></div>
          <div id="ew" style="display:none"><div class="b-stitle">Email Placeholder</div><div class="frow"><input type="text" id="b-eph" value="Enter your email" oninput="rp()"/></div></div>
          <div id="cw" style="display:none"><div class="b-stitle">Discount Code</div><div class="frow"><input type="text" id="b-code" value="SAVE20" oninput="rp()" style="font-family:monospace;font-weight:700;letter-spacing:0.12em"/></div></div>
          <div id="sw2" style="display:none"><div class="b-stitle" style="display:flex;justify-content:space-between;align-items:center">Steps<button class="btn btn-ghost btn-sm" onclick="addStep()">+ Add</button></div><div id="step-list"></div></div>
        </div>

        <!-- STEP 2: Design -->
        <div class="b-panel" id="bp-2">
          <div class="b-stitle">Background Color</div>
          <div class="swatch-row" id="pal-bg"></div>
          <div class="crow"><div class="csw" id="sw-bg" style="background:#fff"><input type="color" value="#ffffff" oninput="uc('bg',this)"/></div><span class="cl">Custom hex</span><input class="chx" id="hx-bg" value="#ffffff" oninput="uh('bg',this)"/></div>

          <div class="b-stitle">Headline Color</div>
          <div class="swatch-row" id="pal-ti"></div>
          <div class="crow"><div class="csw" id="sw-ti" style="background:#1A1A18"><input type="color" value="#1A1A18" oninput="uc('ti',this)"/></div><span class="cl">Custom hex</span><input class="chx" id="hx-ti" value="#1A1A18" oninput="uh('ti',this)"/></div>

          <div class="b-stitle">Body Text Color</div>
          <div class="swatch-row" id="pal-bo"></div>
          <div class="crow"><div class="csw" id="sw-bo" style="background:#6B6B68"><input type="color" value="#6B6B68" oninput="uc('bo',this)"/></div><span class="cl">Custom hex</span><input class="chx" id="hx-bo" value="#6B6B68" oninput="uh('bo',this)"/></div>

          <div class="b-stitle">Button Color</div>
          <div class="swatch-row" id="pal-bt"></div>
          <div class="crow"><div class="csw" id="sw-bt" style="background:#C1440E"><input type="color" value="#C1440E" oninput="uc('bt',this)"/></div><span class="cl">Custom hex</span><input class="chx" id="hx-bt" value="#C1440E" oninput="uh('bt',this)"/></div>

          <div class="b-stitle">Button Text Color</div>
          <div class="swatch-row" id="pal-btt"></div>
          <div class="crow"><div class="csw" id="sw-btt" style="background:#ffffff"><input type="color" value="#ffffff" oninput="uc('btt',this)"/></div><span class="cl">Custom hex</span><input class="chx" id="hx-btt" value="#ffffff" oninput="uh('btt',this)"/></div>

          <div class="b-stitle">Font</div>
          <div class="font-pills" id="fp"></div>

          <div class="b-stitle">Corner Radius</div>
          <div class="sl-row"><input type="range" min="0" max="32" value="16" oninput="PS.r=+this.value;Q('#rv').textContent=this.value+'px';rp()"/><span class="sl-val" id="rv">16px</span></div>
          <div class="b-stitle">Shadow</div>
          <div class="sl-row"><input type="range" min="0" max="3" value="2" step="1" oninput="PS.sh=+this.value;Q('#sv').textContent=['None','Subtle','Medium','Strong'][this.value];rp()"/><span class="sl-val" id="sv">Medium</span></div>
          <div class="b-stitle">Close Button</div>
          <div class="pill-sel" id="cp">
            <div class="ps on" data-cl="×">× Symbol</div>
            <div class="ps" data-cl="✕">✕ Bold</div>
            <div class="ps" data-cl="">Hidden</div>
          </div>
          <div class="b-stitle">Animation</div>
          <div class="pill-sel" id="ap">
            <div class="ps on" data-an="fade">Fade</div>
            <div class="ps" data-an="slide-up">Slide up</div>
            <div class="ps" data-an="zoom">Zoom</div>
            <div class="ps" data-an="bounce">Bounce</div>
          </div>
        </div>

        <!-- STEP 3: Trigger -->
        <div class="b-panel" id="bp-3">
          <div class="b-stitle">When to Show</div>
          <div id="topts">
            <div class="t-opt on" data-tr="delay"><div class="t-lb">After a delay</div><div class="t-sb">X seconds after page load</div></div>
            <div class="t-opt" data-tr="exit"><div class="t-lb">Exit intent</div><div class="t-sb">When visitor tries to leave</div></div>
            <div class="t-opt" data-tr="scroll"><div class="t-lb">Scroll depth</div><div class="t-sb">After scrolling X% down the page</div></div>
            <div class="t-opt" data-tr="first"><div class="t-lb">First visit only</div><div class="t-sb">Only show to new visitors</div></div>
          </div>
          <div id="dw"><div class="b-stitle">Delay (seconds)</div><div class="sl-row"><input type="range" min="1" max="30" value="5" oninput="Q('#dv').textContent=this.value+'s'"/><span class="sl-val" id="dv">5s</span></div></div>
          <div class="b-stitle">Frequency</div>
          <div class="frow"><select><option>Once per visitor</option><option>Once per day</option><option>Once per session</option><option>Every visit</option></select></div>
          <div class="b-stitle">Options</div>
          <div class="tog-row"><div><div class="tog-lb">Mobile enabled</div><div class="tog-sub">Show on mobile devices</div></div><div class="tog on" onclick="this.classList.toggle('on')"></div></div>
          <div class="tog-row"><div><div class="tog-lb">A/B testing</div><div class="tog-sub">Split traffic between variants</div></div><div class="tog" onclick="this.classList.toggle('on')"></div></div>
          <div class="tog-row"><div><div class="tog-lb">Cookie consent</div><div class="tog-sub">Respect privacy settings</div></div><div class="tog on" onclick="this.classList.toggle('on')"></div></div>
          <div class="b-stitle">Budget</div>
          <div class="row2">
            <div class="frow" style="margin:0"><label>Payment Model</label><select><option>Per impression</option><option>Per click</option><option>Per conversion</option></select></div>
            <div class="frow" style="margin:0"><label>Daily cap ($)</label><input type="number" placeholder="50" min="1"/></div>
          </div>
        </div>

      </div>
    </div><!-- /b-left -->

    <!-- CANVAS -->
    <div class="b-mid">
      <div class="cv-lbl">Live preview <span class="cv-pos" id="cv-pos">Bottom bar</span></div>
      <div class="cv-area"><div id="live-popup"></div></div>
    </div>

    <!-- RIGHT -->
    <div class="b-right">
      <div class="rp-sec">
        <div class="rp-title">Popup Steps</div>
        <div id="layers"></div>
        <button class="btn btn-ghost btn-sm" style="width:100%;justify-content:center;margin-top:4px" onclick="addStep()">+ Add Step</button>
      </div>
      <div class="rp-sec">
        <div class="rp-title">Quick Styles</div>
        <div class="preset-grid">
          <div class="pc" onclick="preset('minimal')"><div class="pc-sw" style="background:#fff;border:1px solid #eee"></div><div class="pc-name">Minimal</div></div>
          <div class="pc" onclick="preset('dark')"><div class="pc-sw" style="background:#1A1A18"></div><div class="pc-name">Bold Dark</div></div>
          <div class="pc" onclick="preset('warm')"><div class="pc-sw" style="background:#FAF6F0;border:1px solid #E8DDD5"></div><div class="pc-name">Warm</div></div>
          <div class="pc" onclick="preset('fresh')"><div class="pc-sw" style="background:#F0FDF4;border:1px solid #dcfce7"></div><div class="pc-name">Fresh</div></div>
          <div class="pc" onclick="preset('midnight')"><div class="pc-sw" style="background:#0F172A"></div><div class="pc-name">Midnight</div></div>
          <div class="pc" onclick="preset('blush')"><div class="pc-sw" style="background:#FFF1F2;border:1px solid #ffe4e6"></div><div class="pc-name">Blush</div></div>
        </div>
      </div>
      <div class="rp-sec">
        <div class="rp-title">Insights</div>
        <div style="font-size:0.76rem;display:flex;flex-direction:column;gap:7px">
          <div style="display:flex;justify-content:space-between"><span style="color:var(--sub)">Avg. CTR</span><strong>7.8%</strong></div>
          <div style="display:flex;justify-content:space-between"><span style="color:var(--sub)">Best trigger</span><strong>Exit intent</strong></div>
          <div style="display:flex;justify-content:space-between"><span style="color:var(--sub)">Best position</span><strong>Bottom bar</strong></div>
        </div>
      </div>
      <div class="rp-sec">
        <div class="rp-title">Export</div>
        <div style="display:flex;flex-direction:column;gap:6px">
          <button class="btn btn-ghost btn-sm" style="width:100%;justify-content:center" onclick="toast('Preview link copied!')">Share preview</button>
          <button class="btn btn-ghost btn-sm" style="width:100%;justify-content:center" onclick="toast('Config exported')">Export config</button>
        </div>
      </div>
    </div>
  </div><!-- /s-builder -->

  <!-- DISCOVER -->
  <div class="screen" id="s-discover">
    <div class="sec-head"><div><div class="sec-title">Discover Creators</div><div class="sec-sub">Find influencers whose audience matches your brand</div></div></div>
    <div class="search-bar">
      <div class="search-inp">
        <span class="si"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg></span>
        <input type="text" placeholder="Search by name, niche or keyword..."/>
      </div>
    </div>
    <div class="f-pills" id="fpills">
      <div class="fp on">All</div><div class="fp">Fashion</div><div class="fp">Beauty</div><div class="fp">Lifestyle</div><div class="fp">Fitness</div><div class="fp">Food</div><div class="fp">Travel</div>
    </div>
    <div class="creator-grid" id="cgrid"></div>
  </div>

  <!-- PARTNERSHIPS -->
  <div class="screen" id="s-partnerships">
    <div class="sec-head"><div><div class="sec-title">Partnerships</div><div class="sec-sub">Track your creator invites</div></div></div>
    <div class="tcard"><table><thead><tr><th>Creator</th><th>Popup</th><th>Status</th><th>Sent</th><th>Impressions</th><th>Paid Out</th><th></th></tr></thead><tbody>
      <tr><td><div style="display:flex;align-items:center;gap:8px"><div class="c-av" style="width:30px;height:30px;font-size:0.7rem;background:#6366F1">SM</div><div><div style="font-weight:600;font-size:0.82rem">Sara M.</div><div style="font-size:0.68rem;color:var(--muted)">Fashion</div></div></div></td><td style="color:var(--sub)">Summer Sale</td><td><span class="pill pill-on">Active</span></td><td style="color:var(--muted)">Jun 14</td><td>6,210</td><td>$142</td><td><button class="btn btn-ghost btn-sm">View</button></td></tr>
      <tr><td><div style="display:flex;align-items:center;gap:8px"><div class="c-av" style="width:30px;height:30px;font-size:0.7rem;background:#EC4899">JL</div><div><div style="font-weight:600;font-size:0.82rem">Jordan L.</div><div style="font-size:0.68rem;color:var(--muted)">Beauty</div></div></div></td><td style="color:var(--sub)">Summer Sale</td><td><span class="pill pill-on">Active</span></td><td style="color:var(--muted)">Jun 15</td><td>4,820</td><td>$110</td><td><button class="btn btn-ghost btn-sm">View</button></td></tr>
      <tr><td><div style="display:flex;align-items:center;gap:8px"><div class="c-av" style="width:30px;height:30px;font-size:0.7rem;background:#F59E0B">RK</div><div><div style="font-weight:600;font-size:0.82rem">Ria K.</div><div style="font-size:0.68rem;color:var(--muted)">Fitness</div></div></div></td><td style="color:var(--sub)">New Arrivals</td><td><span class="pill pill-pend">Pending</span></td><td style="color:var(--muted)">Aug 3</td><td>—</td><td>—</td><td><button class="btn btn-ghost btn-sm" onclick="toast('Reminder sent to Ria K.')">Remind</button></td></tr>
      <tr><td><div style="display:flex;align-items:center;gap:8px"><div class="c-av" style="width:30px;height:30px;font-size:0.7rem;background:#10B981">TN</div><div><div style="font-weight:600;font-size:0.82rem">Tom N.</div><div style="font-size:0.68rem;color:var(--muted)">Travel</div></div></div></td><td style="color:var(--sub)">Loyalty Offer</td><td><span class="pill pill-no">Declined</span></td><td style="color:var(--muted)">Jul 30</td><td>—</td><td>—</td><td><button class="btn btn-ghost btn-sm" onclick="openModal()">Try again</button></td></tr>
    </tbody></table></div>
  </div>

  <!-- SETTINGS -->
  <div class="screen" id="s-settings">
    <div class="sec-head" style="margin-bottom:18px"><div><div class="sec-title">Settings</div><div class="sec-sub">Manage your brand account</div></div></div>
    <div class="set-layout">
      <div class="set-nav" id="snav">
        <div class="sn-item on" data-tab="profile">Profile</div>
        <div class="sn-item" data-tab="billing">Billing</div>
        <div class="sn-item" data-tab="notifs">Notifications</div>
      </div>
      <div>
        <div class="set-form" id="tab-profile">
          <div class="sf-title">Brand Profile</div>
          <div class="frow"><label>Brand Name</label><input type="text" value="Acme Co."/></div>
          <div class="frow"><label>Website</label><input type="url" value="https://acmeco.com"/></div>
          <div class="frow"><label>Industry</label><select><option>Fashion & Apparel</option><option>Beauty</option><option>Fitness</option></select></div>
          <div class="frow"><label>Description</label><textarea>We make premium everyday essentials designed to last.</textarea></div>
          <button class="btn btn-primary" onclick="toast('Profile saved')">Save Changes</button>
        </div>
        <div class="set-form" id="tab-billing" style="display:none">
          <div class="sf-title">Billing</div>
          <div class="frow"><label>Card</label><input value="•••• •••• •••• 4242" readonly/></div>
          <div style="padding:12px;background:var(--green-l);border-radius:8px;margin-bottom:14px"><div style="font-size:0.78rem;font-weight:600;color:var(--green)">Connected via Stripe</div></div>
          <button class="btn btn-ghost" onclick="toast('Redirecting to Stripe...')">Update Card</button>
        </div>
        <div class="set-form" id="tab-notifs" style="display:none">
          <div class="sf-title">Notifications</div>
          <div style="display:flex;flex-direction:column;gap:13px">
            <div style="display:flex;justify-content:space-between;align-items:center"><div><div style="font-size:0.8rem;font-weight:500">Partnership approved</div><div style="font-size:0.7rem;color:var(--muted)">When a creator accepts</div></div><input type="checkbox" checked/></div>
            <div style="display:flex;justify-content:space-between;align-items:center"><div><div style="font-size:0.8rem;font-weight:500">Popup milestone</div><div style="font-size:0.7rem;color:var(--muted)">Every 1,000 impressions</div></div><input type="checkbox" checked/></div>
            <div style="display:flex;justify-content:space-between;align-items:center"><div><div style="font-size:0.8rem;font-weight:500">Weekly report</div><div style="font-size:0.7rem;color:var(--muted)">Every Monday</div></div><input type="checkbox"/></div>
          </div>
          <button class="btn btn-primary" style="margin-top:18px" onclick="toast('Saved')">Save</button>
        </div>
      </div>
    </div>
  </div>

</div><!-- /main -->

<!-- MODAL -->
<div class="modal-bg" id="modal">
  <div class="modal">
    <div class="modal-title">Send New Invite</div>
    <div class="modal-sub">Tom N. declined before. Pick a different popup.</div>
    <div class="frow"><label>Select Popup</label><select><option>Summer Sale</option><option>New Arrivals</option></select></div>
    <div class="frow"><label>Message (optional)</label><textarea placeholder="Add a note..."></textarea></div>
    <div class="modal-foot">
      <button class="btn btn-ghost" onclick="closeModal()">Cancel</button>
      <button class="btn btn-primary" onclick="closeModal();toast('Invite sent to Tom N.')">Send</button>
    </div>
  </div>
</div>
<div class="toast" id="tst"></div>

<script>
const Q=s=>document.querySelector(s);
const QA=s=>document.querySelectorAll(s);

// NAVIGATION
const TITLES={stats:'Dashboard',popups:'My Popups',builder:'Popup Builder',discover:'Discover Creators',partnerships:'Partnerships',settings:'Settings'};
function nav(id){
  QA('.screen').forEach(el=>el.classList.remove('on'));
  QA('.screen-builder').forEach(el=>el.classList.remove('on'));
  const el=document.getElementById('s-'+id);
  if(el){el.classList.add('on');if(!el.classList.contains('screen-builder'))el.scrollTop=0;}
  QA('.nav-item').forEach(el=>el.classList.toggle('on',el.dataset.nav===id));
  document.getElementById('page-title').textContent=TITLES[id]||id;
  if(id==='builder'){buildDesignTab();rp();}
}
QA('.nav-item[data-nav]').forEach(el=>el.addEventListener('click',()=>nav(el.dataset.nav)));

// CHART
(function(){
  const d=[{l:'Mon',i:3200,c:248},{l:'Tue',i:2800,c:218},{l:'Wed',i:4100,c:320},{l:'Thu',i:3600,c:281},{l:'Fri',i:5200,c:406},{l:'Sat',i:4800,c:374},{l:'Sun',i:3900,c:305}];
  const mx=Math.max(...d.map(x=>x.i));
  document.getElementById('chart').innerHTML=d.map(x=>{
    const ih=Math.round(x.i/mx*105),ch=Math.round(x.c/mx*105);
    return `<div class="bar-col"><div class="bar-wrap"><div class="bar bar-i" style="height:${ih}px"></div><div class="bar bar-c" style="height:${ch}px"></div></div><div class="bar-day">${x.l}</div></div>`;
  }).join('');
})();

// CREATORS
const CREATORS=[
  {n:'Sara M.',h:'@sarastyle',ni:'Fashion',f:'82K',e:'4.2%',s:'1',b:'Fashion and lifestyle content for the modern woman. Highly engaged, UK-based.',col:'#6366F1'},
  {n:'Jordan L.',h:'@jordanbeauty',ni:'Beauty',f:'55K',e:'5.8%',s:'1',b:'Beauty reviews and honest skincare testing. Audience trusts recommendations.',col:'#EC4899'},
  {n:'Ria K.',h:'@riafitness',ni:'Fitness',f:'120K',e:'3.1%',s:'2',b:'Fitness, nutrition and wellness. Large health-conscious community.',col:'#F59E0B'},
  {n:'Tom N.',h:'@tomnomad',ni:'Travel',f:'44K',e:'6.4%',s:'1',b:'Adventure travel and gear reviews. Small but ultra-engaged audience.',col:'#10B981'},
  {n:'Alex P.',h:'@alexathome',ni:'Lifestyle',f:'91K',e:'3.8%',s:'3',b:'Home and lifestyle with strong affiliate conversion history.',col:'#3B82F6'},
  {n:'Dana C.',h:'@danacooks',ni:'Food',f:'67K',e:'4.9%',s:'1',b:'Recipe developer. Targeted audience of home cooks aged 28–45.',col:'#EF4444'},
];
document.getElementById('cgrid').innerHTML=CREATORS.map(c=>{
  const ini=c.n.split(' ').map(x=>x[0]).join('');
  return `<div class="c-card"><div class="c-head"><div class="c-av" style="width:38px;height:38px;background:${c.col}">${ini}</div><div><div class="c-name">${c.n}</div><div class="c-handle">${c.h}</div><div class="c-niche">${c.ni}</div></div></div><div class="c-stats"><div><div class="cs-val">${c.f}</div><div class="cs-lbl">Followers</div></div><div><div class="cs-val">${c.e}</div><div class="cs-lbl">Eng. Rate</div></div><div><div class="cs-val">${c.s}</div><div class="cs-lbl">Sites</div></div></div><div class="c-bio">${c.b}</div><button class="btn btn-primary" style="width:100%" onclick="toast('Invite sent to ${c.n}')">Invite to Popup</button></div>`;
}).join('');
document.getElementById('fpills').addEventListener('click',e=>{
  const fp=e.target.closest('.fp');if(!fp)return;
  QA('#fpills .fp').forEach(p=>p.classList.remove('on'));fp.classList.add('on');
});

// SETTINGS TABS
document.getElementById('snav').addEventListener('click',e=>{
  const item=e.target.closest('.sn-item[data-tab]');if(!item)return;
  QA('.sn-item').forEach(i=>i.classList.remove('on'));item.classList.add('on');
  ['profile','billing','notifs'].forEach(t=>{
    const el=document.getElementById('tab-'+t);if(el)el.style.display=t===item.dataset.tab?'block':'none';
  });
});

// MODAL
function openModal(){document.getElementById('modal').classList.add('on');}
function closeModal(){document.getElementById('modal').classList.remove('on');}

// TOAST
let tt;
function toast(msg){
  const el=document.getElementById('tst');el.textContent=msg;el.classList.add('on');
  clearTimeout(tt);tt=setTimeout(()=>el.classList.remove('on'),2500);
}

// ════════════════════════════
//  POPUP BUILDER
// ════════════════════════════
const PS={
  type:'standard',sz:'md',pos:'bottom-bar',
  c:{bg:'#ffffff',ti:'#1A1A18',bo:'#6B6B68',bt:'#C1440E',btt:'#ffffff'},
  fn:"'DM Sans',sans-serif",r:16,sh:2,cl:'×',an:'fade',tr:'delay',
  steps:[{hl:'',bd:'',cta:'Shop Now',sec:''}],cur:0
};
const SH=['none','0 2px 12px rgba(0,0,0,0.08)','0 8px 32px rgba(0,0,0,0.16)','0 20px 60px rgba(0,0,0,0.28)'];
const SZ={sm:'220px',md:'300px',lg:'390px'};

// Color palettes
const PALETTES={
  bg: ['#ffffff','#F8F7F5','#FAF6F0','#FFF1F2','#F0FDF4','#EFF4FF','#FFFBEB','#F9F5FF','#FEF9EE','#E8F4FD','#0F172A','#1A1A18'],
  ti: ['#1A1A18','#0F172A','#18181B','#3D2314','#14532D','#1E3A5F','#4A044E','#7C2D12','#ffffff','#F1F5F9','#E2E8F0','#6B6B68'],
  bo: ['#6B6B68','#78716C','#64748B','#94A3B8','#7A6055','#4B5563','#71717A','#92400E','#A1A1AA','#9CA3AF','#D4D4D8','#CBD5E1'],
  bt: ['#C1440E','#1A1A18','#2563EB','#16A34A','#D97706','#9333EA','#EC4899','#0891B2','#DC2626','#059669','#7C3AED','#0F172A'],
  btt:['#ffffff','#F8F7F5','#1A1A18','#FDF1EC','#F0FDF4','#EFF4FF','#FFFBEB','#FEF3C7','#FCE7F3','#DBEAFE','#D1FAE5','#EDE9FE'],
};

// Light swatches that need a border to be visible
const LIGHT_COLORS=new Set(['#ffffff','#F8F7F5','#FAF6F0','#FFF1F2','#F0FDF4','#EFF4FF','#FFFBEB','#F9F5FF','#FEF9EE','#E8F4FD','#F1F5F9','#E2E8F0','#D4D4D8','#CBD5E1','#FDF1EC','#FEF3C7','#FCE7F3','#DBEAFE','#D1FAE5','#EDE9FE']);

function buildPalette(key){
  const el=document.getElementById('pal-'+key);if(!el)return;
  el.innerHTML=PALETTES[key].map(c=>{
    const isLight=LIGHT_COLORS.has(c);
    return `<div class="sdot${PS.c[key]===c?' on':''}${isLight?' light':''}" style="background:${c}" title="${c}" onclick="applyDot('${key}','${c}',this)"></div>`;
  }).join('');
}
function buildAllPalettes(){Object.keys(PALETTES).forEach(buildPalette);}

function applyDot(key,color,dot){
  PS.c[key]=color;
  dot.closest('.swatch-row').querySelectorAll('.sdot').forEach(d=>d.classList.remove('on'));
  dot.classList.add('on');
  const sw=Q('#sw-'+key),hx=Q('#hx-'+key);
  if(sw){sw.style.background=color;sw.querySelector('input').value=color;}
  if(hx)hx.value=color;
  rp();
}

// Fonts
const FONTS=[
  {name:'DM Sans',     stack:"'DM Sans',sans-serif",      sample:'Aa — The quick fox'},
  {name:'Playfair',    stack:"'Playfair Display',serif",   sample:'Aa — The quick fox'},
  {name:'Cormorant',   stack:"'Cormorant Garamond',serif", sample:'Aa — The quick fox'},
  {name:'Raleway',     stack:"'Raleway',sans-serif",       sample:'Aa — The quick fox'},
  {name:'Josefin Sans',stack:"'Josefin Sans',sans-serif",  sample:'Aa — The quick fox'},
  {name:'Baskerville', stack:"'Libre Baskerville',serif",  sample:'Aa — The quick fox'},
  {name:'Syne',        stack:"'Syne',sans-serif",          sample:'Aa — The quick fox'},
  {name:'Space Grotesk',stack:"'Space Grotesk',sans-serif",sample:'Aa — The quick fox'},
  {name:'Crimson Pro', stack:"'Crimson Pro',serif",        sample:'Aa — The quick fox'},
  {name:'Plus Jakarta',stack:"'Plus Jakarta Sans',sans-serif",sample:'Aa — The quick fox'},
];

function buildFonts(){
  const el=document.getElementById('fp');if(!el||el.children.length>0)return;
  el.innerHTML=FONTS.map((f,i)=>
    `<div class="fpill${i===0?' on':''}" data-fn="${f.stack}" onclick="selectFont(this,'${f.stack}')">
      <span class="fp-name">${f.name}</span>
      <span class="fp-sample" style="font-family:${f.stack}">${f.sample}</span>
    </div>`
  ).join('');
}
function selectFont(el,fn){
  QA('.fpill').forEach(p=>p.classList.remove('on'));
  el.classList.add('on');PS.fn=fn;rp();
}

let designBuilt=false;
function buildDesignTab(){
  if(designBuilt)return;designBuilt=true;
  buildAllPalettes();buildFonts();
}

// Step tabs
document.querySelector('.b-tabs').addEventListener('click',e=>{
  const tab=e.target.closest('.b-tab[data-step]');if(!tab)return;
  const i=+tab.dataset.step;
  QA('.b-tab').forEach((t,j)=>t.classList.toggle('on',j===i));
  QA('.b-panel').forEach((p,j)=>p.classList.toggle('on',j===i));
  if(i===2)buildDesignTab();
});

// Type cards
document.querySelector('.tgrid').addEventListener('click',e=>{
  const c=e.target.closest('.tcard[data-type]');if(!c)return;
  QA('.tcard').forEach(x=>x.classList.remove('on'));c.classList.add('on');
  PS.type=c.dataset.type;
  Q('#ew').style.display=PS.type==='email'?'block':'none';
  Q('#cw').style.display=PS.type==='discount'?'block':'none';
  Q('#sw2').style.display=PS.type==='multi-step'?'block':'none';
  rp();
});

// Size pills
document.querySelector('.b-panel').addEventListener('click',e=>{
  const p=e.target.closest('.ps[data-sz]');if(!p)return;
  QA('.ps[data-sz]').forEach(x=>x.classList.remove('on'));p.classList.add('on');
  PS.sz=p.dataset.sz;rp();
});

// Position grid
document.querySelector('.pgrid').addEventListener('click',e=>{
  const o=e.target.closest('.popt[data-pos]');if(!o)return;
  QA('.popt').forEach(x=>x.classList.remove('on'));o.classList.add('on');
  PS.pos=o.dataset.pos;Q('#cv-pos').textContent=o.querySelector('.p-lb').textContent;rp();
});

// Close pills
document.getElementById('cp').addEventListener('click',e=>{
  const p=e.target.closest('.ps[data-cl]');if(!p)return;
  QA('#cp .ps').forEach(x=>x.classList.remove('on'));p.classList.add('on');
  PS.cl=p.dataset.cl;rp();
});

// Anim pills
document.getElementById('ap').addEventListener('click',e=>{
  const p=e.target.closest('.ps[data-an]');if(!p)return;
  QA('#ap .ps').forEach(x=>x.classList.remove('on'));p.classList.add('on');PS.an=p.dataset.an;
});

// Trigger opts
document.getElementById('topts').addEventListener('click',e=>{
  const o=e.target.closest('.t-opt[data-tr]');if(!o)return;
  QA('.t-opt').forEach(x=>x.classList.remove('on'));o.classList.add('on');
  PS.tr=o.dataset.tr;Q('#dw').style.display=PS.tr==='delay'?'block':'none';
});

// Color pickers (custom hex/native)
function uc(k,inp){
  PS.c[k]=inp.value;
  Q('#sw-'+k).style.background=inp.value;Q('#hx-'+k).value=inp.value;
  const pal=document.getElementById('pal-'+k);
  if(pal)pal.querySelectorAll('.sdot').forEach(d=>d.classList.remove('on'));
  rp();
}
function uh(k,inp){
  if(/^#[0-9A-Fa-f]{6}$/.test(inp.value)){
    PS.c[k]=inp.value;
    const sw=Q('#sw-'+k);sw.style.background=inp.value;sw.querySelector('input').value=inp.value;
    const pal=document.getElementById('pal-'+k);
    if(pal)pal.querySelectorAll('.sdot').forEach(d=>d.classList.remove('on'));
    rp();
  }
}

// Presets
const PRESETS={
  minimal: {bg:'#ffffff',ti:'#1A1A18',bo:'#6B6B68',bt:'#1A1A18',btt:'#ffffff'},
  dark:    {bg:'#1A1A18',ti:'#ffffff',bo:'#A8A8A5',bt:'#C1440E',btt:'#ffffff'},
  warm:    {bg:'#FAF6F0',ti:'#2C1810',bo:'#7A6055',bt:'#C1440E',btt:'#ffffff'},
  fresh:   {bg:'#F0FDF4',ti:'#14532D',bo:'#166534',bt:'#16A34A',btt:'#ffffff'},
  midnight:{bg:'#0F172A',ti:'#F1F5F9',bo:'#94A3B8',bt:'#6366F1',btt:'#ffffff'},
  blush:   {bg:'#FFF1F2',ti:'#44032A',bo:'#9D4052',bt:'#EC4899',btt:'#ffffff'},
};
function preset(name){
  const p=PRESETS[name];if(!p)return;
  PS.c={...p};
  buildDesignTab();
  Object.keys(p).forEach(k=>{
    const sw=Q('#sw-'+k),hx=Q('#hx-'+k);
    if(sw){sw.style.background=p[k];sw.querySelector('input').value=p[k];}
    if(hx)hx.value=p[k];
    const pal=document.getElementById('pal-'+k);
    if(pal)pal.querySelectorAll('.sdot').forEach(d=>d.classList.toggle('on',d.title===p[k]));
  });
  rp();toast('Style: '+name);
}

// Steps
function addStep(){
  PS.steps.push({hl:'Step '+(PS.steps.length+1),bd:'',cta:'Next',sec:''});
  refreshLayers();rp();toast('Step '+PS.steps.length+' added');
}
function setStep(i){PS.cur=i;refreshLayers();rp();}
function delStep(i){
  if(PS.steps.length<=1)return;
  PS.steps.splice(i,1);PS.cur=Math.min(PS.cur,PS.steps.length-1);
  refreshLayers();rp();
}
function refreshLayers(){
  document.getElementById('layers').innerHTML=PS.steps.map((s,i)=>
    `<div class="layer-row${i===PS.cur?' on':''}" onclick="setStep(${i})">
      <span style="width:15px;height:15px;display:block;flex-shrink:0">
        <svg viewBox="0 0 24 24" width="13" height="13" fill="none" stroke="${i===PS.cur?'var(--accent)':'var(--muted)'}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/></svg>
      </span>
      <span class="layer-name">Step ${i+1}</span>
      ${PS.steps.length>1?`<button onclick="event.stopPropagation();delStep(${i})" style="background:none;border:none;cursor:pointer;color:var(--muted);font-size:1rem;line-height:1">×</button>`:''}
    </div>`
  ).join('');
}
refreshLayers();

// Save
function savePopup(){
  const nm=Q('#b-name').value.trim();
  if(!nm){toast('Add a popup name first');return;}
  toast('"'+nm+'" saved as draft');
  setTimeout(()=>nav('popups'),900);
}

// RENDER POPUP
function rp(){
  const el=document.getElementById('live-popup');
  const{type,sz,c,fn,r,sh,cl}=PS;
  const hl =Q('#b-hl') ?Q('#b-hl').value :'';
  const bd =Q('#b-bd') ?Q('#b-bd').value :'';
  const cta=Q('#b-cta')?Q('#b-cta').value:'';
  const sec=Q('#b-sec')?Q('#b-sec').value:'';
  const eph=Q('#b-eph')?Q('#b-eph').value:'Enter your email';
  const code=Q('#b-code')?Q('#b-code').value:'SAVE20';
  const hc=Q('#hlc');
  if(hc&&Q('#b-hl'))hc.textContent=Q('#b-hl').value.length+'/60';

  el.style.cssText=`width:${SZ[sz]};max-width:100%;border-radius:${r}px;box-shadow:${SH[sh]};background:${c.bg};font-family:${fn};overflow:hidden;position:relative;`;

  // SVG image placeholder icon
  const imgSvg=`<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="${c.bt}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="m21 15-5-5L5 21"/></svg>`;

  const closBtn=cl?`<button style="position:absolute;top:9px;right:9px;z-index:5;width:22px;height:22px;border-radius:50%;background:rgba(0,0,0,0.1);border:none;cursor:pointer;color:${c.ti};font-size:0.8rem;display:flex;align-items:center;justify-content:center">${cl}</button>`:'';

  if(type==='image-only'){
    el.innerHTML=`${closBtn}<div style="width:100%;height:190px;background:linear-gradient(135deg,${c.bt}33,${c.bt}88);display:flex;align-items:center;justify-content:center">${imgSvg}</div>`;
    return;
  }
  const img=type!=='text-only'?`<div style="width:100%;height:105px;background:linear-gradient(135deg,${c.bt}20,${c.bt}50);display:flex;align-items:center;justify-content:center">${imgSvg}</div>`:'';

  let special='';
  if(type==='email')special=`<input placeholder="${eph}" style="width:100%;padding:7px 10px;border:1.5px solid ${c.bt};border-radius:${Math.max(0,r-8)}px;font-size:0.8em;margin-bottom:9px;outline:none;font-family:${fn};color:${c.ti};background:${c.bg}"/>`;
  if(type==='discount')special=`<div style="text-align:center;padding:8px;border:2px dashed ${c.bt};border-radius:${Math.max(0,r-8)}px;margin-bottom:10px"><div style="font-size:0.62em;color:${c.bo};margin-bottom:2px;letter-spacing:0.06em">USE CODE</div><div style="font-family:monospace;font-size:1.05em;font-weight:700;letter-spacing:0.1em;color:${c.bt}">${code}</div></div>`;
  if(type==='countdown')special=`<div style="display:flex;justify-content:center;gap:6px;margin-bottom:10px">${['23','59','47'].map((n,i)=>`<div style="text-align:center"><span style="display:block;font-size:1.2em;font-weight:700;color:${c.bt};font-family:${fn}">${n}</span><span style="font-size:0.58em;color:${c.bo};letter-spacing:0.05em">${['HRS','MIN','SEC'][i]}</span></div>${i<2?`<span style="font-size:1.2em;font-weight:700;color:${c.bt};align-self:flex-start;margin-top:3px">:</span>`:''}`).join('')}</div>`;

  const dots=PS.steps.length>1?`<div style="display:flex;justify-content:center;gap:4px;margin-bottom:8px">${PS.steps.map((_,i)=>`<div style="width:${i===PS.cur?14:5}px;height:5px;border-radius:3px;background:${i===PS.cur?c.bt:'rgba(0,0,0,0.1)'}"></div>`).join('')}</div>`:'';
  const pd=sz==='sm'?'13px':'17px';
  const ts=sz==='sm'?'0.88em':sz==='lg'?'1.18em':'1em';
  const bs=sz==='sm'?'0.72em':'0.78em';

  el.innerHTML=`${closBtn}${img}<div style="padding:${pd}">${dots}<div style="font-weight:700;font-size:${ts};color:${c.ti};line-height:1.22;margin-bottom:6px">${hl||'Your headline here'}</div><div style="font-size:${bs};color:${c.bo};line-height:1.52;margin-bottom:11px">${bd||'Short supporting message for your offer.'}</div>${special}<button style="display:block;width:100%;padding:9px;background:${c.bt};color:${c.btt};border:none;border-radius:${Math.max(0,r-8)}px;font-weight:600;font-size:0.84em;cursor:pointer;font-family:${fn}">${cta||'Shop Now'}</button>${(type==='two-button'||sec)?`<div style="text-align:center;font-size:0.72em;margin-top:8px;color:${c.bo};cursor:pointer">${sec||'No thanks'}</div>`:''}</div>`;
}
</script>
</body>
</html>
